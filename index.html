<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>WP‑NET — Installation Guide</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap" rel="stylesheet">
  <!-- Bootstrap 5 CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Bootstrap Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
  <style>
    :root {
      --bg: #000000;
      --fg: #e6e6e6;
      --muted: #bdbdbd;
      --grid: #111111;
      --line: #ffffff;
      --border: #e6e6e6;
      --accent: #00ff9d;
    }
    html, body { height: 100%; }
    body {
      margin: 0;
      background: var(--bg);
      color: var(--fg);
      font-family: 'Share Tech Mono', ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      /* Allow page to scroll */
      overflow-y: auto;
    }
    /* Canvas behind UI */
    #canvas-container {
      position: fixed;
      inset: 0;
      z-index: 0;
    }
    /* Subtle CRT scanlines overlay */
    .scanlines:before {
      content: "";
      position: fixed;
      inset: 0;
      background: repeating-linear-gradient(transparent 0px, rgba(255,255,255,0.02) 2px, transparent 4px);
      mix-blend-mode: soft-light;
      pointer-events: none;
      z-index: 1;
    }
    /* Centered layout */
    .form-container {
      position: relative;
      z-index: 2;
      min-height: 100vh;
      display: grid;
      place-items: center;
      padding: 2rem;
    }
    /* Terminal-style panel */
    .login-card {
      width: min(840px, 92vw);
      background: #000;
      border: 1px solid var(--border);
      border-radius: 6px;
      box-shadow: 0 0 0 2px rgba(255,255,255,0.05), 0 0 18px rgba(255,255,255,0.08);
      padding: 1.6rem;
    }
    .title {
      margin: 0 0 0.4rem 0;
      font-size: 1.4rem;
      letter-spacing: 0.05em;
      display: flex;
      align-items: baseline;
      gap: 0.6rem;
      color: var(--line);
    }
    .title .caret {
      display: inline-block;
      width: 0.6rem;
      height: 1.2rem;
      background: var(--line);
      animation: blink 1s steps(1, end) infinite;
    }
    @keyframes blink { 50% { opacity: 0; } }
    .subtitle {
      margin: 0 0 1.2rem 0;
      color: var(--muted);
      font-size: 0.95rem;
    }

    .links {
      display: flex;
      flex-wrap: wrap;
      gap: 0.8rem 1.2rem;
      margin: 1rem 0 1.2rem 0;
    }
    .links a {
      color: var(--fg);
      text-decoration: none;
      font-size: 0.9rem;
      border: 1px solid var(--border);
      border-radius: 4px;
      padding: 0.45rem 0.7rem;
      transition: transform 140ms ease, box-shadow 140ms ease, background 140ms ease, color 140ms ease;
    }
    .links a:hover {
      transform: translateY(-1px);
      box-shadow: 0 0 0 2px rgba(255,255,255,0.08);
      background: #fff;
      color: #000;
      text-decoration: none;
    }

    .section {
      border: 1px dashed rgba(255,255,255,0.25);
      border-radius: 6px;
      padding: 1rem;
      margin-top: 1rem;
      background: rgba(255,255,255,0.02);
    }
    .section h2 {
      margin: 0 0 0.6rem 0;
      font-size: 1.1rem;
      color: var(--accent);
      letter-spacing: 0.06em;
    }
    .section h3 {
      margin: 0.8rem 0 0.4rem 0;
      font-size: 1rem;
      color: var(--fg);
    }
    .section p {
      margin: 0.2rem 0 0.8rem 0;
      color: var(--muted);
    }
    .steps {
      margin: 0.4rem 0 0.6rem 1rem;
      padding: 0;
      list-style: decimal;
    }
    .steps li {
      margin: 0.4rem 0;
    }
    .inline {
      background: rgba(255,255,255,0.06);
      border: 1px solid rgba(255,255,255,0.18);
      padding: 0.06rem 0.3rem;
      border-radius: 4px;
      color: #fff;
    }
    pre {
      background: rgba(255,255,255,0.06);
      border: 1px solid rgba(255,255,255,0.18);
      padding: 0.7rem 0.8rem;
      border-radius: 6px;
      overflow: auto;
      margin: 0.5rem 0 0.8rem 0;
    }
    code {
      color: #fff;
    }
    /* Card footer inside login-card */
    .login-card-footer {
      margin-top: 1rem;
      padding-top: 0.8rem;
      border-top: 1px dashed rgba(255,255,255,0.25);
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 0.8rem;
    }
    .login-card-footer .brand {
      color: var(--muted);
      font-size: 0.9rem;
      letter-spacing: 0.02em;
    }
    .login-card-footer .footer-links {
      display: flex;
      align-items: center;
      gap: 0.6rem;
    }
    .login-card-footer .footer-links a {
      color: var(--fg);
      text-decoration: none;
      border: 1px solid var(--border);
      border-radius: 999px;
      padding: 0.4rem 0.8rem;
      display: inline-flex;
      align-items: center;
      gap: 0.45rem;
      transition: transform 140ms ease, box-shadow 140ms ease, background 140ms ease, color 140ms ease;
    }
    .login-card-footer .footer-links a:hover {
      transform: translateY(-1px);
      box-shadow: 0 0 0 2px rgba(255,255,255,0.08);
      background: #fff;
      color: #000;
    }
    .login-card-footer .bi {
      font-size: 1.1rem;
      line-height: 1;
    }
  </style>
  <script src="https://cdn.jsdelivr.net/npm/p5@1.9.0/lib/p5.min.js"></script>
</head>
<body class="scanlines">
  <div id="canvas-container" aria-hidden="true"></div>

  <main class="form-container">
    <section class="login-card" role="region" aria-describedby="guide-desc">
      <h1 class="title">
        WP‑NET Installation <span class="caret" aria-hidden="true"></span>
      </h1>
      <p id="guide-desc" class="subtitle">Follow these steps to install WP‑NET on macOS and Windows.</p>

      <!-- Sections menu -->
      <div class="section-menu d-flex flex-column flex-sm-row gap-2" aria-label="Sections">
                <button type="button" class="btn btn-outline-light w-100 w-sm-auto" data-target="section-wpnet">WP‑NET</button>
        <button type="button" class="btn btn-light w-100 w-sm-auto" data-target="section-prereq">Prerequisites</button>
        <button type="button" class="btn btn-outline-light w-100 w-sm-auto" data-target="section-macos">macOS</button>
        <button type="button" class="btn btn-outline-light w-100 w-sm-auto" data-target="section-windows">Windows</button>
        <button type="button" class="btn btn-outline-light w-100 w-sm-auto" data-target="section-troubleshooting">Troubleshooting</button>
      </div>
      <!-- Prerequisites -->
      <div class="section" id="section-prereq">
        <h2>Prerequisites</h2>
        <p>WP‑NET is a WordPress‑based project. You need:</p>
        <ul>
          <li>PHP 8+ with common extensions (mysqli, json, mbstring, curl, xml)</li>
          <li>Optional: Git (to clone this repository)</li>
        </ul>
      </div>
      
      <div class="section" id="section-wpnet">
        <h2>WP‑NET Overview</h2>
        <p>WP‑NET is a replicable, local‑first lab built with WordPress, SQLite, the ClassicSocialMedia theme, and the Friends plugin.</p>
        <ul>
          <li>Goal: publish, learn, and collaborate with open tools while owning your data via a single‑file SQLite database.</li>
          <li>Stack: WordPress + SQLite Database Integration, ClassicSocialMedia theme, and Friends social reader.</li>
          <li>Replication: ship a pack with wp‑content, wp‑config.php (remove secrets), and the SQLite DB to clone labs quickly.</li>
        </ul>
        <p>How WP‑NET fits: WP‑NET provides the installation guide and base WordPress instance used to power the lab. After installing WordPress, enable the SQLite integration, activate ClassicSocialMedia, and install Friends to complete the lab setup.</p>
        <div class="links" aria-label="WP‑NET resources">
          <a href="FOSS-Lab-Manual.md">Open WP‑NET Manual</a>
        </div>
      </div>

      <!-- macOS -->
      <div class="section d-none" id="section-macos">
        <h2>macOS (Homebrew)</h2>

        <h3>1) Install services</h3>
        <pre><code>
        brew update
        brew install php
        </code></pre>

        <h3>2) Place php.ini</h3>
        <p>Use same php.ini as project in tools/php</p>
        <h3>3) Use same </h3>
        <pre><code>mysql -u root -p
CREATE DATABASE wpnet DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
CREATE USER 'wpnet'@'localhost' IDENTIFIED BY 'your_password';
GRANT ALL PRIVILEGES ON wpnet.* TO 'wpnet'@'localhost';
FLUSH PRIVILEGES;</code></pre>

        <h3>4) Configure virtual host (optional)</h3>
        <p>Edit Apache’s httpd config or a vhost to point to the project directory. Restart Apache if you change config:</p>
        <pre><code>brew services restart httpd</code></pre>

        <h3>5) Run the installer</h3>
        <p>Open <a href="/wp-admin/install.php">/wp-admin/install.php</a> in your browser. Enter your database info:</p>
        <ul>
          <li>Database Name: <span class="inline">wpnet</span></li>
          <li>Username: <span class="inline">wpnet</span></li>
          <li>Password: <span class="inline">your_password</span></li>
          <li>Database Host: <span class="inline">localhost</span></li>
          <li>Table Prefix: <span class="inline">wp_</span> (or customize)</li>
        </ul>
        <p>Complete the site setup (title, admin user, password). Then login via <a href="/wp-login.php">/wp-login.php</a>.</p>
      </div>

      <!-- Windows -->
      <div class="section d-none" id="section-windows">
        <h2>Windows (XAMPP or WampServer)</h2>

        <h3>1) Install a stack</h3>
        <p>Install XAMPP or WampServer to get Apache, PHP, and MySQL/MariaDB.</p>

        <h3>2) Place the project</h3>
        <ul>
          <li>XAMPP: copy the repository into <span class="inline">C:\xampp\htdocs\wp-net\</span></li>
          <li>WampServer: copy into <span class="inline">C:\wamp64\www\wp-net\</span></li>
        </ul>
        <p>Start Apache and MySQL/MariaDB from your stack’s control panel.</p>

        <h3>3) Create a database</h3>
        <p>Use phpMyAdmin (usually at <span class="inline">http://localhost/phpmyadmin</span>) or the MySQL client to create a database:</p>
        <pre><code>CREATE DATABASE wpnet DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;</code></pre>

        <h3>4) Run the installer</h3>
        <p>Visit <span class="inline">http://localhost/wp-net/wp-admin/install.php</span> and enter your database details. Finish setup, then login at <span class="inline">http://localhost/wp-net/wp-login.php</span>.</p>
      </div>

      <!-- Troubleshooting -->
      <div class="section d-none" id="section-troubleshooting">
        <h2>Troubleshooting</h2>
        <ul>
          <li>Database connection error: verify credentials and host in <span class="inline">wp-config.php</span> (created by the installer).</li>
          <li>Blank page: check PHP version and enable error display in the server or logs.</li>
          <li>Permissions: ensure the web server can read the project and write to <span class="inline">wp-content</span> for updates/uploads.</li>
          <li>Port conflicts: if Apache or MySQL won’t start, verify that ports 80/443/3306 aren’t used by other apps.</li>
        </ul>
      </div>
      <div class="footer-inner">
      <div class="brand">WP‑NET</div>
      <div class="footer-links" aria-label="Project link">
        <a class="btn btn-outline-light btn-lg w-100" href="https://github.com/tequitl/wp-net-base" target="_blank" rel="noopener noreferrer">
          <i class="bi bi-github" aria-hidden="true"></i>
          View on GitHub
        </a>
      </div>
    </div>
    </section>  
  </main>

  <!-- Removed external footer; footer now lives inside login-card -->

  <!-- Section toggle script -->
  <script>
    (function () {
      const buttons = document.querySelectorAll('.section-menu button[data-target]');
      const sections = document.querySelectorAll('.section[id^="section-"]');

      function showSection(id) {
        sections.forEach(s => s.classList.toggle('d-none', s.id !== id));
        buttons.forEach(b => {
          const active = b.dataset.target === id;
          b.classList.toggle('btn-light', active);
          b.classList.toggle('btn-outline-light', !active);
        });
      }

      buttons.forEach(b => {
        b.addEventListener('click', () => showSection(b.dataset.target));
      });

      // Initialize: show the first button's section
      const initial = buttons[0]?.dataset.target;
      if (initial) showSection(initial);
    })();
  </script>
  <script>
    // p5.js instance-mode: monochrome network + subtle grid (reused from index-bw.html)
    (function () {
      new p5(function (p) {
        let nodes = [];
        let linkThreshold;
        let baseCount;

        // Grid parameters (monochrome)
        const gridSpacing = 40;
        const gridTilt = Math.PI / 12;
        const gridAlpha = 211; // light lines

        const mouseInfluence = 140;

        function computeDensity() {
          const area = p.windowWidth * p.windowHeight;
          baseCount = p.constrain(Math.floor(area * 0.00008), 140, 520);
          linkThreshold = p.constrain(Math.min(p.windowWidth, p.windowHeight) * 0.18, 100, 240);
        }

        function initNodes() {
          nodes = [];
          for (let i = 0; i < baseCount; i++) {
            nodes.push({
              x: p.random(p.width),
              y: p.random(p.height),
              vx: p.random(-0.35, 0.35),
              vy: p.random(-0.35, 0.35),
              r: p.random(1.4, 2.6),
              intensity: p.random(210, 255),
              pulsePhase: p.random(p.TWO_PI)
            });
          }
        }

        p.setup = function () {
          const cnv = p.createCanvas(p.windowWidth, p.windowHeight);
          cnv.parent("canvas-container");
          computeDensity();
          initNodes();
          p.strokeCap(p.ROUND);
        };

        p.windowResized = function () {
          p.resizeCanvas(p.windowWidth, p.windowHeight);
          computeDensity();
          initNodes();
        };

        function drawGrid() {
          p.push();
          p.translate(p.width / 2, p.height / 2);
          p.rotate(gridTilt);
          p.translate(-p.width / 2, -p.height / 2);

          p.stroke(255, gridAlpha);
          p.strokeWeight(1);

          for (let x = 0; x < p.width + gridSpacing; x += gridSpacing) {
            p.line(x, 0, x, p.height);
          }
          for (let y = 0; y < p.height + gridSpacing; y += gridSpacing) {
            p.line(0, y, p.width, y);
          }

          p.pop();
        }

        p.draw = function () {
          p.background(0);
          drawGrid();

          // Soft monochrome vignette
          p.noStroke();
          p.fill(255, 12);
          p.rect(0, 0, p.width, p.height);

          // Update nodes with wrap
          for (let n of nodes) {
            n.x += n.vx;
            n.y += n.vy;
            if (n.x < -20) n.x = p.width + 20;
            if (n.x > p.width + 20) n.x = -20;
            if (n.y < -20) n.y = p.height + 20;
            if (n.y > p.height + 20) n.y = -20;
          }

          // Links (white lines, variable alpha/width)
          for (let i = 0; i < nodes.length; i++) {
            const a = nodes[i];
            for (let j = i + 1; j < nodes.length; j++) {
              const b = nodes[j];
              const dx = a.x - b.x;
              const dy = a.y - b.y;
              const d = Math.sqrt(dx * dx + dy * dy);
              if (d < linkThreshold) {
                const nearMouseA = p.dist(a.x, a.y, p.mouseX, p.mouseY) < mouseInfluence;
                const nearMouseB = p.dist(b.x, b.y, p.mouseX, p.mouseY) < mouseInfluence;
                const boost = (nearMouseA || nearMouseB) ? 1.25 : 1.0;

                const alpha = p.map(d, 0, linkThreshold, 180, 10) * boost;
                const w = p.map(d, 0, linkThreshold, 2.2, 0.5) * boost;

                p.stroke(255, alpha);
                p.strokeWeight(w);
                p.line(a.x, a.y, b.x, b.y);
              }
            }
          }

          // Nodes (white glow circles)
          for (let n of nodes) {
            const pulse = (p.sin(p.frameCount * 0.03 + n.pulsePhase) + 1) * 0.5;
            const glow = 140 + 60 * pulse;
            p.noStroke();
            p.fill(n.intensity, glow * 0.3);
            p.circle(n.x, n.y, n.r * 5.2);
            p.fill(n.intensity, 220);
            p.circle(n.x, n.y, n.r * (1.5 + 0.6 * pulse));
          }
        };

        p.mouseMoved = function () {
          // Nudge nodes away from mouse for interactivity
          for (let n of nodes) {
            const d = p.dist(n.x, n.y, p.mouseX, p.mouseY);
            if (d < mouseInfluence) {
              const angle = Math.atan2(n.y - p.mouseY, n.x - p.mouseX);
              n.vx += 0.02 * Math.cos(angle);
              n.vy += 0.02 * Math.sin(angle);
              n.vx = Math.max(-0.6, Math.min(0.6, n.vx));
              n.vy = Math.max(-0.6, Math.min(0.6, n.vy));
            }
          }
        };

        p.touchMoved = function () {
          p.mouseMoved();
          return false;
        };
      });
    })();
  </script>
</body>
</html>

/* Mobile: enable scroll inside card and top-align content */
@media (max-width: 768px) {
  .form-container {
    align-items: start; /* instead of vertical centering */
    justify-items: center;
  }
  .login-card {
    max-height: calc(100vh - 3.5rem); /* leaves breathing space */
    overflow: auto;                    /* scroll inside card */
    -webkit-overflow-scrolling: touch; /* smooth iOS scrolling */
  }
}